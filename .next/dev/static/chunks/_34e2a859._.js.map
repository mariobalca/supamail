{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mariobalca/Development/supamail/app/dashboard/aliases/page.tsx"],"sourcesContent":["'use client';\n\nimport { createClient } from '@/lib/supabase/client';\nimport { useEffect, useState } from 'react';\nimport { Plus, Trash2, Mail } from 'lucide-react';\nimport { Alias } from '@/types/database';\n\nexport default function AliasesPage() {\n  const supabase = createClient();\n  const [aliases, setAliases] = useState<Alias[]>([]);\n  const [newAlias, setNewAlias] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    fetchAliases();\n  }, []);\n\n  const fetchAliases = async () => {\n    setIsLoading(true);\n    const { data, error } = await supabase\n      .from('aliases')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (!error && data) {\n      setAliases(data);\n    }\n    setIsLoading(false);\n  };\n\n  const createAlias = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newAlias) return;\n\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    const { error } = await supabase.from('aliases').insert({\n      address: newAlias,\n      user_id: user.id,\n    });\n\n    if (!error) {\n      setNewAlias('');\n      fetchAliases();\n    } else {\n      alert(error.message);\n    }\n  };\n\n  const toggleAlias = async (id: string, currentStatus: boolean) => {\n    const { error } = await supabase\n      .from('aliases')\n      .update({ is_active: !currentStatus })\n      .eq('id', id);\n\n    if (!error) {\n      fetchAliases();\n    }\n  };\n\n  const deleteAlias = async (id: string) => {\n    if (!confirm('Are you sure? This will also delete all associated rules and logs.')) return;\n    \n    const { error } = await supabase\n      .from('aliases')\n      .delete()\n      .eq('id', id);\n\n    if (!error) {\n      fetchAliases();\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-8\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Email Aliases</h1>\n      </div>\n\n      {/* Create Alias Form */}\n      <form onSubmit={createAlias} className=\"flex gap-4 bg-white p-6 rounded-xl shadow-sm border border-gray-100\">\n        <div className=\"relative flex-1\">\n          <Mail className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={20} />\n          <input\n            type=\"text\"\n            placeholder=\"e.g., shopping@yourdomain.com\"\n            value={newAlias}\n            onChange={(e) => setNewAlias(e.target.value)}\n            className=\"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center gap-2\"\n        >\n          <Plus size={20} />\n          Create\n        </button>\n      </form>\n\n      {/* Aliases List */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden\">\n        {isLoading ? (\n          <div className=\"p-8 text-center text-gray-500\">Loading your aliases...</div>\n        ) : aliases.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            You haven't created any aliases yet. Create one above to get started!\n          </div>\n        ) : (\n          <table className=\"w-full text-left border-collapse\">\n            <thead>\n              <tr className=\"bg-gray-50 border-b border-gray-100\">\n                <th className=\"px-6 py-4 font-semibold text-gray-700\">Alias Address</th>\n                <th className=\"px-6 py-4 font-semibold text-gray-700\">Status</th>\n                <th className=\"px-6 py-4 font-semibold text-gray-700 text-right\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-100\">\n              {aliases.map((alias) => (\n                <tr key={alias.id} className=\"hover:bg-gray-50 transition-colors group\">\n                  <td className=\"px-6 py-4\">\n                    <div className=\"font-medium text-gray-900\">{alias.address}</div>\n                    <div className=\"text-sm text-gray-500\">Created {new Date(alias.created_at).toLocaleDateString()}</div>\n                  </td>\n                  <td className=\"px-6 py-4\">\n                    <button\n                      onClick={() => toggleAlias(alias.id, alias.is_active)}\n                      className={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider transition-colors ${\n                        alias.is_active \n                          ? 'bg-green-100 text-green-700 hover:bg-green-200' \n                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                      }`}\n                    >\n                      {alias.is_active ? 'Active' : 'Inactive'}\n                    </button>\n                  </td>\n                  <td className=\"px-6 py-4 text-right space-x-2\">\n                    <button \n                      onClick={() => deleteAlias(alias.id)}\n                      className=\"p-2 text-gray-400 hover:text-red-600 transition-colors\"\n                      title=\"Delete Alias\"\n                    >\n                      <Trash2 size={18} />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,WAAW,IAAA,4IAAY;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAU,EAAE;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;iCAAC;YACR;QACF;gCAAG,EAAE;IAEL,MAAM,eAAe;QACnB,aAAa;QACb,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,WACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,CAAC,SAAS,MAAM;YAClB,WAAW;QACb;QACA,aAAa;IACf;IAEA,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,IAAI,CAAC,UAAU;QAEf,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;QAEX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,WAAW,MAAM,CAAC;YACtD,SAAS;YACT,SAAS,KAAK,EAAE;QAClB;QAEA,IAAI,CAAC,OAAO;YACV,YAAY;YACZ;QACF,OAAO;YACL,MAAM,MAAM,OAAO;QACrB;IACF;IAEA,MAAM,cAAc,OAAO,IAAY;QACrC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,WACL,MAAM,CAAC;YAAE,WAAW,CAAC;QAAc,GACnC,EAAE,CAAC,MAAM;QAEZ,IAAI,CAAC,OAAO;YACV;QACF;IACF;IAEA,MAAM,cAAc,OAAO;QACzB,IAAI,CAAC,QAAQ,uEAAuE;QAEpF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,WACL,MAAM,GACN,EAAE,CAAC,MAAM;QAEZ,IAAI,CAAC,OAAO;YACV;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAmC;;;;;;;;;;;0BAInD,6LAAC;gBAAK,UAAU;gBAAa,WAAU;;kCACrC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAI;gCAAC,WAAU;gCAAyD,MAAM;;;;;;0CAC/E,6LAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,WAAU;;;;;;;;;;;;kCAGd,6LAAC;wBACC,MAAK;wBACL,WAAU;;0CAEV,6LAAC,6MAAI;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAMtB,6LAAC;gBAAI,WAAU;0BACZ,0BACC,6LAAC;oBAAI,WAAU;8BAAgC;;;;;2BAC7C,QAAQ,MAAM,KAAK,kBACrB,6LAAC;oBAAI,WAAU;8BAAgC;;;;;yCAI/C,6LAAC;oBAAM,WAAU;;sCACf,6LAAC;sCACC,cAAA,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,6LAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,6LAAC;wCAAG,WAAU;kDAAmD;;;;;;;;;;;;;;;;;sCAGrE,6LAAC;4BAAM,WAAU;sCACd,QAAQ,GAAG,CAAC,CAAC,sBACZ,6LAAC;oCAAkB,WAAU;;sDAC3B,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC;oDAAI,WAAU;8DAA6B,MAAM,OAAO;;;;;;8DACzD,6LAAC;oDAAI,WAAU;;wDAAwB;wDAAS,IAAI,KAAK,MAAM,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;sDAE/F,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDACC,SAAS,IAAM,YAAY,MAAM,EAAE,EAAE,MAAM,SAAS;gDACpD,WAAW,CAAC,oFAAoF,EAC9F,MAAM,SAAS,GACX,mDACA,+CACJ;0DAED,MAAM,SAAS,GAAG,WAAW;;;;;;;;;;;sDAGlC,6LAAC;4CAAG,WAAU;sDACZ,cAAA,6LAAC;gDACC,SAAS,IAAM,YAAY,MAAM,EAAE;gDACnC,WAAU;gDACV,OAAM;0DAEN,cAAA,6LAAC,uNAAM;oDAAC,MAAM;;;;;;;;;;;;;;;;;mCAvBX,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCjC;GAnJwB;KAAA"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/trash-2.js","sources":["file:///Users/mariobalca/Development/supamail/node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAA4C,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACzE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAW,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IACxC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAA0C,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CACzE;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,MAAA,CAAA,CAAA,KAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}