module.exports=[96221,8706,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221);var c=a.i(69240);let d=async()=>{let a=(0,c.createClient)(),{data:b,error:d}=await a.from("aliases").select("*").order("created_at",{ascending:!1});if(d)throw d;return b||[]},e=async a=>{let b=(0,c.createClient)(),{data:{user:d}}=await b.auth.getUser();if(!d)throw Error("Not authenticated");let{data:e,error:f}=await b.from("aliases").insert({address:a,user_id:d.id}).select().single();if(f)throw f;return e},f=async(a,b)=>{let d=(0,c.createClient)(),{error:e}=await d.from("aliases").update({is_active:b}).eq("id",a);if(e)throw e},g=async a=>{let b=(0,c.createClient)(),{error:d}=await b.from("aliases").delete().eq("id",a);if(d)throw d},h=async()=>{let a=(0,c.createClient)(),{data:b,error:d}=await a.from("rules").select("*, aliases(address)").order("created_at",{ascending:!1});if(d)throw d;return b},i=async(a,b,d)=>{let e=(0,c.createClient)(),{data:f,error:g}=await e.from("rules").insert({alias_id:a,pattern:b,action:d}).select().single();if(g)throw g;return f},j=async a=>{let b=(0,c.createClient)(),{error:d}=await b.from("rules").delete().eq("id",a);if(d)throw d},k=async()=>{let a=(0,c.createClient)(),{data:b,error:d}=await a.from("logs").select("*, aliases(address)").order("created_at",{ascending:!1});if(d)throw d;return b};a.s(["createAlias",0,e,"createRule",0,i,"deleteAlias",0,g,"deleteRule",0,j,"getAliases",0,d,"getAllRules",0,h,"getLogs",0,k,"toggleAliasStatus",0,f],8706)},67453,62722,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>c],67453);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>d],62722)},273,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91965),e=a.i(87532),f=a.i(92258),g=a.i(96221),h=a.i(67453),i=a.i(62722);let j=(0,a.i(70106).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var k=a.i(8706);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{let a=await (0,k.getLogs)();l(a)}catch(a){console.error("Error fetching logs:",a)}finally{n(!1)}},r=a.filter(a=>a.sender.toLowerCase().includes(o.toLowerCase())||a.subject?.toLowerCase().includes(o.toLowerCase())||a.aliases?.address.toLowerCase().includes(o.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-2",children:"Activity"}),(0,b.jsx)("p",{className:"text-slate-500 font-medium",children:"Monitor your incoming email traffic and AI insights."})]}),(0,b.jsx)("button",{onClick:q,className:"flex items-center gap-2 bg-white text-slate-900 px-5 py-2.5 rounded-xl font-bold border border-slate-200 hover:bg-slate-50 transition-all shadow-sm active:scale-95",children:"Refresh Feed"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[2rem] shadow-sm border border-slate-100 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-white sticky top-0 z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-slate-50 border border-slate-200 px-4 py-2 rounded-xl w-80 group focus-within:border-indigo-300 transition-all",children:[(0,b.jsx)(e.Search,{className:"w-4 h-4 text-slate-400 group-focus-within:text-indigo-500"}),(0,b.jsx)("input",{type:"text",placeholder:"Search sender, subject, or alias...",className:"bg-transparent border-none outline-none text-sm w-full font-medium placeholder:text-slate-400",value:o,onChange:a=>p(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Forwarded"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),(0,b.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Blocked"})]})]})]}),(0,b.jsx)("div",{className:"divide-y divide-slate-50",children:m?(0,b.jsxs)("div",{className:"p-20 flex flex-col items-center justify-center text-slate-400 gap-4",children:[(0,b.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin text-indigo-500"}),(0,b.jsx)("p",{className:"font-medium",children:"Fetching activity logs..."})]}):0===r.length?(0,b.jsxs)("div",{className:"p-20 flex flex-col items-center justify-center text-slate-400 gap-4 text-center",children:[(0,b.jsx)("div",{className:"bg-slate-50 p-4 rounded-full",children:(0,b.jsx)(d.History,{className:"w-8 h-8 opacity-20"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-slate-900",children:"No activity yet"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Emails sent to your aliases will appear here."})]})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50/50",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sender & Subject"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Alias"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"AI Summary"}),(0,b.jsx)("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Time"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-50",children:r.map(a=>(0,b.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-6 vertical-top",children:(0,b.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${"forwarded"===a.status?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:"forwarded"===a.status?(0,b.jsx)(h.CheckCircle2,{size:20}):(0,b.jsx)(i.XCircle,{size:20})})}),(0,b.jsx)("td",{className:"px-6 py-6",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1 max-w-md",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:"text-sm font-black text-slate-900 truncate",children:a.sender})}),(0,b.jsx)("span",{className:"text-xs font-medium text-slate-500 line-clamp-1",children:a.subject||"(No Subject)"})]})}),(0,b.jsx)("td",{className:"px-6 py-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-indigo-600",children:[(0,b.jsx)(f.Mail,{size:14,className:"opacity-50"}),(0,b.jsx)("span",{className:"text-xs font-bold",children:a.aliases?.address})]})}),(0,b.jsx)("td",{className:"px-6 py-6",children:a.ai_summary?(0,b.jsx)("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-indigo-50 border border-indigo-100 text-indigo-700 text-[10px] font-black uppercase tracking-tight",children:a.ai_summary}):(0,b.jsx)("span",{className:"text-slate-300 text-[10px] font-bold uppercase tracking-widest italic",children:"N/A"})}),(0,b.jsx)("td",{className:"px-6 py-6 text-right",children:(0,b.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,b.jsx)("span",{className:"text-xs font-black text-slate-900",children:new Date(a.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:new Date(a.created_at).toLocaleDateString()})]})})]},a.id))})]})})})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-slate-900 p-10 rounded-[2.5rem] text-white overflow-hidden relative group",children:[(0,b.jsxs)("div",{className:"relative z-10 flex items-center gap-6",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center text-indigo-400 group-hover:scale-110 transition-transform",children:(0,b.jsx)(d.History,{size:28})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xl font-black mb-1 tracking-tight",children:"Real-time Activity"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"Your dashboard is connected to live updates. New emails will appear here instantly."})]})]}),(0,b.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 blur-[100px] rounded-full"})]}),(0,b.jsxs)("div",{className:"bg-indigo-600 p-10 rounded-[2.5rem] text-white overflow-hidden relative group",children:[(0,b.jsxs)("div",{className:"relative z-10 flex items-center gap-6 text-white",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center text-white group-hover:rotate-12 transition-transform",children:(0,b.jsx)(j,{size:28})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xl font-black mb-1 tracking-tight",children:"Selective Forwarding"}),(0,b.jsx)("p",{className:"text-white/70 text-sm font-medium leading-relaxed",children:"Only allowed senders reach your inbox. Everything else is logged and blocked."})]})]}),(0,b.jsx)("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-white/10 blur-[80px] rounded-full"})]})]})]})}a.s(["default",()=>l],273)}];

//# sourceMappingURL=_ba8832de._.js.map